var $jscomp={scope:{},getGlobal:function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,c){for(var b=1;b<arguments.length;b++){var e=arguments[b];if(e)for(var g in e)$jscomp.owns(e,g)&&(a[g]=e[g])}return a}},"es6-impl","es3");
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var g=a[e];if(b.call(c,g,e,a))return{i:e,v:g}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6-impl","es3");function create(a,b,c){a=document.createElement(a);b&&(a.id=b);c&&(a.onclick=c);return a}function createClass(a,b,c){a=document.createElement(a);b&&(a.className=b);c&&(a.onclick=c);return a}
function iterableToArray(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function applyStyles(a,b){for(var c in b)c in a.style&&(a.style[c]=b[c])}function hide(a){a.originalDisplay=a.style.display&&("none"==a.style.display?"":a.style.display)||"";a.style.display="none"}function show(a){a.style.display="originalDisplay"in a&&a.originalDisplay?a.originalDisplay:""}function insertAfter(a,b){b.parentElement.insertBefore(a,b.nextSibling)}
function toggleClass(a,b,c){(a.classList.contains(b)?!c:c)&&a.classList.toggle(b)}
var VbInline=function(a,b,c){b=void 0===b?{}:b;var d=this;this.hidding=this.isOpen=!1;this.animations=[];this.hidden=[];this.defaults={width:720,height:405,closeText:"Close",padding:30,animation:{duration:500,iterations:1,delay:0,easing:"ease-in-out"}};this.wrap=create("div","vbiWrap");this.responsive=create("div","vbiResponsive");this.wrap.appendChild(this.responsive);this.caption=document.createElement("span");this.caption.className="vb_video_title";this.wrap.appendChild(this.caption);this.button=
create("div","vbiClose",function(){return d.close()});this.button.innerHTML='<i class="vb-icon-circle-close-invert"></i>';this.wrap.appendChild(this.button);this.video=create("iframe","vbiVideo");this.video.allowFullscreen=!0;this.video.frameBorder="0px";hide(this.video);this.responsive.appendChild(this.video);a&&this.bind(a,b,c||this.linkMapper)};
VbInline.prototype.bind=function(a,b,c){b=void 0===b?{}:b;c=void 0===c?this.linkMapper:c;var d=this;"string"==typeof a&&(a=iterableToArray(document.querySelectorAll(a)));a.forEach(function(a){a.vbListener&&a.removeEventListener("click",a.vbListener);a.vbiListener&&a.removeEventListener("click",a.vbiListener);a.vbiListener=function(e){e.preventDefault();e.stopPropagation();e=c(a);e.options=Object.assign({},b,e.options);d.open(e);return!1};a.addEventListener("click",a.vbiListener)})};
VbInline.prototype.open=function(a){var b=this;VideoboxObj.close();a.options=Object.assign({},this.defaults,a.options);var c=a.origin.target,c=c.querySelector(c.getAttribute("data-target"))||c;toggleClass(c,"vb_line_fix",!0);a.origin=Object.assign({},{x:c.clientWidth/2,y:c.clientHeight/2,width:c.clientWidth,height:c.clientHeight},a.origin);toggleClass(c,"vb_line_fix",!1);this.close(function(){return b.changeVideo(a)})};
VbInline.prototype.close=function(a){var b=this;this.stop();if(!this.hidding)if(this.wrap.parentElement&&this.activeVideo){this.hidding=!0;var c=(this.activeVideo.origin?this.activeVideo.origin.width:this.activeVideo.options.initialWidth)+"px",d=this.wrap.animate([{maxWidth:this.activeVideo.options.width+2*this.activeVideo.options.padding+"px"},{maxWidth:c}],this.activeVideo.options.animation);d.onfinish=function(){return b.hide(a)};this.wrap.style.maxWidth=c;d.play();this.activeVideo.origin&&(c=
100*this.activeVideo.origin.height/this.activeVideo.origin.width+"%",d=this.responsive.animate([{paddingBottom:100*this.activeVideo.options.height/this.activeVideo.options.width+"%"},{paddingBottom:c}],this.activeVideo.options.animation),this.responsive.style.paddingBottom=c,d.play())}else this.hide(a);return!1};VbInline.prototype.linkMapper=function(a){return{url:a.getAttribute("href")||"",title:a.getAttribute("title")||"",options:JSON.parse(a.getAttribute("data-videobox"))||{},origin:{target:a}}};
VbInline.prototype.setup=function(){insertAfter(this.wrap,this.activeVideo.origin.target);hide(this.activeVideo.origin.target);this.hidden.push(this.activeVideo.origin.target)};
VbInline.prototype.changeVideo=function(a){var b=this;this.activeVideo=a;this.setup();this.wrap.setAttribute("style",this.activeVideo.options.style);this.wrap.setAttribute("class",this.activeVideo.options.class);this.caption.innerHTML=this.activeVideo.title;this.isOpen=!0;a={maxWidth:this.activeVideo.options.width+2*this.activeVideo.options.padding+"px"};var c=this.wrap.animate([{maxWidth:(this.activeVideo.origin?this.activeVideo.origin.width:this.activeVideo.options.initialWidth)+"px"},a],this.activeVideo.options.animation);
applyStyles(this.wrap,a);c.onfinish=function(){return b.showVideo()};this.animations.push(c);c.play();a={paddingBottom:100*this.activeVideo.options.height/this.activeVideo.options.width+"%"};this.activeVideo.origin&&(c=this.responsive.animate([{paddingBottom:100*this.activeVideo.origin.height/this.activeVideo.origin.width+"%"},a],this.activeVideo.options.animation),this.animations.push(c),c.play());applyStyles(this.responsive,a)};
VbInline.prototype.showVideo=function(){this.isOpen&&(show(this.video),this.video.setAttribute("src",this.activeVideo.url))};VbInline.prototype.hide=function(a){this.wrap.parentElement&&this.wrap.parentNode.removeChild(this.wrap);this.hidden.forEach(function(a){return show(a)});this.hidden=[];this.hidding=!1;this.activeVideo=null;"function"==typeof a&&a()};
VbInline.prototype.stop=function(){this.animations.forEach(function(a){return a.cancel()});this.animations=[];this.isOpen=!1;this.video.setAttribute("src","");hide(this.video)};var VbInlineObj=new VbInline;window.VbInline=VbInlineObj;function libBind$1(a){a.vbInline=function(a){VbInlineObj.open(a)};a.vbiClose=function(a){VbInlineObj.close(a)};a.fn.vbInline=function(a,c){a=void 0===a?{}:a;var b=iterableToArray(this);c?VbInlineObj.bind(b,a,c):VbInlineObj.bind(b,a)}}"undefined"!=typeof jQuery&&libBind$1(jQuery);
"undefined"!=typeof Zepto&&libBind$1(Zepto);
var Videobox=function(a,b,c){b=void 0===b?{}:b;var d=this;this.isOpen=!1;this.animations=[];this.defaults={width:720,height:405,closeText:"Close",padding:30,initialWidth:"15%",root:document.body,animation:{duration:500,iterations:1,delay:0,easing:"ease-in-out"}};this.overlay=create("div","vbOverlay",function(){return d.close()});this.wrap=create("div","vbWrap");this.center=create("div","vbCenter");this.wrap.appendChild(this.center);this.responsive=create("div","vbResponsive");this.center.appendChild(this.responsive);
this.bottomContainer=create("div","vbBottomContainer");this.center.appendChild(this.bottomContainer);this.video=create("iframe","vbVideo");this.video.allowFullscreen=!0;this.video.frameBorder="0px";hide(this.video);this.responsive.appendChild(this.video);this.bottom=create("div","vbBottom");this.bottomContainer.appendChild(this.bottom);this.button=create("a","vbCloseLink",function(){return d.close()});this.button.innerHTML='<span id="vbCloseText">'+this.defaults.closeText+'</span><i class="vb-icon-close"></i>';
this.bottom.appendChild(this.button);this.caption=create("strong","vbCaption");this.bottom.appendChild(this.caption);this.closeText=this.button.querySelector("#vbCloseText");window.addEventListener("resize",function(){d.isOpen&&d.activeVideo&&d.setPlayerSizePosition()});a&&this.bind(a,b,c||this.linkMapper)};
Videobox.prototype.bind=function(a,b,c){b=void 0===b?{}:b;c=void 0===c?this.linkMapper:c;var d=this;"string"==typeof a&&(a=iterableToArray(document.querySelectorAll(a)));a.forEach(function(a){a.vbListener&&a.removeEventListener("click",a.vbListener);a.vbiListener&&a.removeEventListener("click",a.vbiListener);a.vbListener=function(e){e.preventDefault();e.stopPropagation();e=c(a);e.options=Object.assign({},b,e.options);d.open(e);return!1};a.addEventListener("click",a.vbListener)})};
Videobox.prototype.open=function(a){VbInlineObj.close();this.close();a.options=Object.assign({},this.defaults,a.options);a.options.root||(a.options.root=document.body);this.setup(a);var b=a.origin.target,b=b.querySelector(b.getAttribute("data-target"))||b,c=this.wrap.getBoundingClientRect(),d=b.getBoundingClientRect();toggleClass(b,"vb_line_fix",!0);a.origin=Object.assign({},{x:d.left-c.left+b.clientWidth/2,y:d.top-c.top+b.clientHeight/2,width:b.clientWidth,height:b.clientHeight},a.origin);toggleClass(b,
"vb_line_fix",!1);this.changeVideo(a)};Videobox.prototype.close=function(){this.stop();[this.wrap,this.bottomContainer,this.overlay].forEach(function(a){return toggleClass(a,"visible",!1)});this.wrap.style.top="0px";this.wrap.style.left="0px";this.activeVideo=null;return!1};
Videobox.prototype.setPlayerSizePosition=function(){if(this.activeVideo){this.setPlayerPosition(this.activeVideo.options.root);var a=this.activeVideo.options.width,b=this.activeVideo.options.height;if(a+2*this.activeVideo.options.padding>this.wrap.clientWidth)var c=this.wrap.clientWidth-2*this.activeVideo.options.padding,b=b*c/a,a=c;b+2*this.activeVideo.options.padding>this.wrap.clientHeight&&(b=this.wrap.clientHeight-2*this.activeVideo.options.padding);a=100*b/a;this.responsive.style.paddingBottom=
a+"%";return a}};Videobox.prototype.linkMapper=function(a){var b=JSON.parse(a.getAttribute("data-videobox"))||{};if(b.root){var c=b.root;"string"==typeof c&&(c=iterableToArray(document.querySelectorAll(c)));0<c.length?b.root=c[0]:b.pop("root")}return{url:a.getAttribute("href")||"",title:a.getAttribute("title")||"",options:b,origin:{target:a}}};
Videobox.prototype.setup=function(a){this.closeText.innerText=a.options.closeText;a.options.root.appendChild(this.overlay);a.options.root.appendChild(this.wrap);this.setPlayerPosition(a.options.root)};
Videobox.prototype.setPlayerPosition=function(a){a=this.wrap.offsetParent;var b=this.wrap.getBoundingClientRect(),c=this.overlay.getBoundingClientRect(),d=this.wrap.offsetLeft-a.offsetLeft,e=c.left-b.left;this.wrap.style.top=this.wrap.offsetTop-a.offsetTop+(c.top-b.top)+"px";this.wrap.style.left=d+e+"px"};
Videobox.prototype.changeVideo=function(a){var b=this;this.activeVideo=a;this.caption.innerHTML=this.activeVideo.title;var c=this.setPlayerSizePosition();this.isOpen=!0;var d={top:(this.activeVideo.origin?-(this.wrap.clientHeight/2-this.activeVideo.origin.y):0)+"px",left:(this.activeVideo.origin?-(this.wrap.clientWidth/2-this.activeVideo.origin.x):0)+"px",maxWidth:this.activeVideo.origin?this.activeVideo.origin.width+"px":this.activeVideo.options.initialWidth};a={top:"0px",left:"0px",maxWidth:this.activeVideo.options.width+
"px"};applyStyles(this.center,d);[this.wrap,this.overlay].forEach(function(a){return toggleClass(a,"visible",!0)});toggleClass(this.wrap,"animating",!0);if(this.activeVideo.origin){var e=100*this.activeVideo.origin.height/this.activeVideo.origin.width||c;e!=c&&this.animations.push(this.responsive.animate([{paddingBottom:e+"%"},{paddingBottom:c+"%"}],this.activeVideo.options.animation))}c=this.center.animate([d,a],this.activeVideo.options.animation);c.onfinish=function(){return b.animateBotton()};
this.animations.push(c);applyStyles(this.center,a);c.play()};Videobox.prototype.animateBotton=function(){var a=this,b=this.bottomContainer.animate([{maxHeight:"0px"},{maxHeight:"200px"}],this.activeVideo.options.animation);toggleClass(this.bottomContainer,"visible",!0);b.onfinish=function(){return a.showVideo()};this.animations.push(b);b.play()};
Videobox.prototype.showVideo=function(){this.isOpen&&!this.video.getAttribute("src")&&(show(this.video),this.video.setAttribute("src",this.activeVideo.url),toggleClass(this.wrap,"animating",!1))};Videobox.prototype.stop=function(){this.animations.forEach(function(a){return a.cancel()});this.animations=[];this.isOpen=!1;this.video.setAttribute("src","");hide(this.video);toggleClass(this.wrap,"animating",!1)};var VideoboxObj=new Videobox;window.Videobox=VideoboxObj;
"undefined"!==typeof jQuery&&(jQuery.videobox=function(a){VideoboxObj.open(a)},jQuery.vbClose=function(){VideoboxObj.close()},jQuery.fn.videobox=function(a,b){a=void 0===a?{}:a;var c=iterableToArray(this);b?VideoboxObj.bind(c,a,b):VideoboxObj.bind(c,a)});function libBind(a){a.videobox=function(a){VideoboxObj.open(a)};a.vbClose=function(){VideoboxObj.close()};a.fn.videobox=function(a,c){a=void 0===a?{}:a;var b=iterableToArray(this);c?VideoboxObj.bind(b,a,c):VideoboxObj.bind(b,a)}}
"undefined"!=typeof jQuery&&libBind(jQuery);"undefined"!=typeof Zepto&&libBind(Zepto);function detach(a){a.forEach(function(a){"querySelector"in a&&a.querySelector("#vbiWrap")&&VbInlineObj.close();a.parentNode.removeChild(a)})}
var VbSlider=function(a,b){b=void 0===b?{}:b;var c=this;this.queue=[];this.timeout=-1;this.moving=!1;this.visible=-1;this.detachedElements=[];this.options={moveAll:!1,target:"",singleDuration:500,doubleClickTimeout:200,animation:{duration:500,iterations:1,delay:0,easing:"ease-in-out"}};this.outer=createClass("div","vb_slider_outer");this.prev=createClass("div","vb_slider_prev",function(){return c.showPrev()});this.prev.innerHTML='<i class="vb-icon-prev"></i>';this.outer.appendChild(this.prev);this.wrap=
createClass("div","vb_slider_wrap");this.outer.appendChild(this.wrap);this.next=createClass("div","vb_slider_next",function(){return c.showNext()});this.next.innerHTML='<i class="vb-icon-next"></i>';this.outer.appendChild(this.next);this.content=createClass("div","vb_slider_cont");this.wrap.appendChild(this.content);this.buttons=iterableToArray(this.outer.querySelectorAll("i"));this.target=a;var d=this.attached;insertAfter(this.outer,this.target);this.content.appendChild(this.target);this.basis=parseInt(a.getAttribute("data-width"))||
d[0].clientWidth;this.options=Object.assign(this.options,b);toggleClass(this.content,"vb-slider__move-all",this.options.moveAll);this.setCount()};VbSlider.bind=function(a,b){b=void 0===b?{}:b;var c=this;"string"==typeof a&&(a=iterableToArray(document.querySelectorAll(a)));var d=[];a.forEach(function(a){var e=(a.getAttribute("data-target")||"").trim(),h=(a.getAttribute("data-move")||"single").trim(),f={};e&&(f.target=e);h&&(f.moveAll="all"==h);d.push(c.getSlider(a,Object.assign({},b,f)))});return d};
VbSlider.getSlider=function(a,b){b=void 0===b?{}:b;var c=this.sliders.find(function(b){return b.target==a});return c?(c.options=Object.assign(c.options,b),c):new VbSlider(a,b)};VbSlider.updateSizes=function(){this.sliders.forEach(function(a){return a.setCount()})};VbSlider.prototype.showPrev=function(){this.queueMove("r")};VbSlider.prototype.showNext=function(){this.queueMove("l")};VbSlider.prototype.setBasis=function(a){a!=this.basis&&(this.basis=a,this.setCount())};
VbSlider.prototype.getTarget=function(){return this.target};VbSlider.prototype.queueMove=function(a){var b=this;0<this.queue.length&&this.queue[this.queue.length-1]!=a?this.queue.pop():this.queue.push(a);0<=this.timeout&&clearTimeout(this.timeout);this.timeout=setTimeout(function(){b.timeout=-1;!b.moving&&0<b.queue.length&&b.move()},this.options.doubleClickTimeout)};
VbSlider.prototype.move=function(){var a=this;this.moving=!0;for(var b=this.queue.pop(),c=this.target.clientHeight,d=1;0<this.queue.length;)d+=this.queue.pop()==b?1:-1;if(0==d)this.moving=!1;else{0>d&&(b="l"==b?"r":"l",d=0-d);var e=(this.options.moveAll?this.visible:1)*d,e=e%(this.visible+this.detachedElements.length);if("l"==b)for(d=0;d<e&&0<this.detachedElements.length;d++)this.target.appendChild(this.detachedElements.shift());else for(d=0;d<e&&0<this.detachedElements.length;d++)this.target.insertBefore(this.detachedElements.pop(),
this.target.firstChild);var d=this.attached,g="l"==b?d.slice(0,d.length-this.visible):d.slice(this.visible);detach(g);var d=this.target.clientHeight,h=100*e/this.visible;if("l"==b)for(var f=g.length-1;0<=f;f--)this.target.insertBefore(g[f],this.target.firstChild);else for(f=0;f<g.length;f++)this.target.appendChild(g[f]);e=this.options.singleDuration?Object.assign({},this.options.animation,{duration:this.options.singleDuration*e}):this.options.animation;f=100*h/(h+100);g={transform:"translate("+("l"==
b?0:-f)+"%)"};f={transform:"translate("+("l"==b?-f:0)+"%)"};this.content.style.width=h+100+"%";h=this.content.animate([g,f],e);h.addEventListener("finish",function(){a.content.style.width="100%";a.skip(b)});h=this.content.animate([{height:c+"px"},{height:d+"px"}],e);this.content.style.height=d+"px";var k=0;this.options.target&&(k=(this.target.querySelector(this.options.target)||{offsetHeight:0}).offsetHeight/2);this.buttons.forEach(function(a){return a.style.top=k?k+"px":""})}};
VbSlider.prototype.skip=function(a){var b=this,c=this.attached;"l"==a?(a=c.slice(0,c.length-this.visible),detach(a),a.forEach(function(a){return b.detachedElements.push(a)})):"r"==a&&(a=c.slice(this.visible),detach(a),a.forEach(function(a){return b.detachedElements.unshift(a)}));0<this.queue.length&&0>this.timeout?this.move():this.moving=!1};
VbSlider.prototype.setCount=function(){var a=this.visible,b=this.target.clientWidth,c=this.attached,c=this.basis+c[0].offsetWidth-c[0].clientWidth,d=Math.floor(b/this.basis);1>d?d=1:c/(b/(d+1))<2-c/(b/d)&&d++;d!=a&&(this.visible=d,this.setAttached());this.content.style.height=this.target.clientHeight+"px";var e=0;this.options.target&&(e=(this.target.querySelector(this.options.target)||{offsetHeight:0}).offsetHeight/2);this.buttons.forEach(function(a){return a.style.top=e?e+"px":""})};
VbSlider.prototype.setAttached=function(){var a=this.attached;if(a.length<this.visible)for(a=a.length;a<this.visible&&0<this.detachedElements.length;a++)this.target.appendChild(this.detachedElements.shift());else if(a.length>this.visible)for(var b=a.length-1;b>=this.visible;b--)this.detachedElements.unshift(a[b]),detach([a[b]])};
$jscomp.global.Object.defineProperties(VbSlider.prototype,{attached:{configurable:!0,enumerable:!0,get:function(){return iterableToArray(this.target.children)}},isMoving:{configurable:!0,enumerable:!0,get:function(){return this.moving}}});VbSlider.sliders=[];window.addEventListener("resize",function(){return VbSlider.updateSizes()});window.VbSlider=VbSlider;
function libBind$2(a){a.vbSlider=function(a,c){c=void 0===c?{}:c;"length"in a&&(a=a[0]);return VbSlider.getSlider(a,c)};a.fn.vbSlider=function(a){a=void 0===a?{}:a;var b=iterableToArray(this);return VbSlider.bind(b,a)}}"undefined"!=typeof jQuery&&libBind$2(jQuery);"undefined"!=typeof Zepto&&libBind$2(Zepto);
function bindAll(){VideoboxObj.bind("a[rel^='videobox']",{root:document.querySelector(".mdl-layout.mdl-js-layout")||document.body});VbInlineObj.bind("a[rel^='vbinline']");VbSlider.bind(".vb_slider")}"loading"!=document.readyState?bindAll():document.addEventListener("readystatechange",function ready(){"loading"!=document.readyState&&(document.removeEventListener("readystatechange",ready),bindAll())});
