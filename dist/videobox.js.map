{"version":3,"sources":["a_license.ts","videobox.ts","vbinline.ts","vbslider.ts","x_autoload.ts"],"names":[],"mappings":"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","file":"videobox.js","sourcesContent":["/*!\t\r\n *\t@author\t\tHitkoDev http://hitko.eu/videobox\r\n *\t@copyright\tCopyright (C) 2016 HitkoDev All Rights Reserved.\r\n *\t@license\thttp://www.gnu.org/licenses/gpl-3.0.html GNU/GPL\r\n *\r\n *\tThis program is free software: you can redistribute it and/or modify\r\n *\tit under the terms of the GNU General Public License as published by\r\n *\tthe Free Software Foundation, either version 3 of the License, or\r\n *\tany later version.\r\n *\r\n *\tThis program is distributed in the hope that it will be useful,\r\n *\tbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *\tMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n *\tGNU General Public License for more details.\r\n *\r\n *\tYou should have received a copy of the GNU General Public License\r\n *\talong with this program. If not, see <http://www.gnu.org/licenses/>\r\n */","/// <reference path=\"helpers.d.ts\" />\r\n/// <reference path=\"interfaces.d.ts\" />\r\n/// <reference path=\"vbinline.ts\" />\r\n\r\ninterface JQueryStatic {\r\n\r\n    /**\r\n     * Open Videobox pop-up player\r\n     * \r\n     * @param _video video to show\r\n     */\r\n    videobox: (_video: vbVideo) => boolean,\r\n\r\n    /**\r\n     * Close the open pop-up\r\n     */\r\n    vbClose: () => boolean\r\n}\r\n\r\ninterface JQuery {\r\n\r\n    /**\r\n     * Map pop-up player to elements matched by the query \r\n     * \r\n     * @param _options player configuration\r\n     * @param linkMapper function to get a Videobox video object from the clicked element\r\n     */\r\n    videobox: (_options?: vbOptions, linkMapper?: (el: HTMLElement) => vbVideo) => boolean\r\n}\r\n\r\n(function($: JQueryStatic) {\r\n\r\n    var\r\n        closeText: HTMLSpanElement,\r\n        center: HTMLDivElement,\r\n        caption: HTMLElement,\r\n        wrap: HTMLDivElement,\r\n        responsive: HTMLDivElement,\r\n        overlay: HTMLDivElement,\r\n        bottomContainer: HTMLDivElement,\r\n        video: HTMLIFrameElement,\r\n        bottom: HTMLDivElement,\r\n        button: HTMLLinkElement,\r\n        win = $(window),\r\n\r\n        activeVideo: vbVideo,\r\n        open: boolean = false,\r\n        animations: Array<webAnimation> = [],\r\n\r\n        defaults: vbOptions = {\r\n            width: 720,\r\n            height: 405,\r\n            closeText: 'Close',\r\n            padding: 30,\r\n            initialWidth: '15%',\r\n            root: $(\"body\")[0],\r\n            animation: {\r\n                duration: 500,\r\n                iterations: 1,\r\n                delay: 0,\r\n                easing: 'ease-in-out'\r\n            }\r\n        };\r\n\r\n    $.videobox = function(_video: vbVideo): boolean {\r\n        $.vbiClose();\r\n        $.vbClose();\r\n\r\n        _video.options = $.extend(true, {}, defaults, _video.options);\r\n        setup(_video);\r\n\r\n        var link = _video.origin.target;\r\n        var target = $($(link).find($(link).attr(\"data-target\"))[0] || link);\r\n\r\n        var bw = wrap.getBoundingClientRect();\r\n        var bt = target[0].getBoundingClientRect();\r\n\r\n        target.toggleClass('vb_line_fix', true);\r\n        _video.origin = $.extend(true, {}, {\r\n            x: bt.left - bw.left + target.innerWidth() / 2,\r\n            y: bt.top - bw.top + target.innerHeight() / 2,\r\n            width: target.innerWidth(),\r\n            height: target.innerHeight()\r\n        }, _video.origin);\r\n        target.toggleClass('vb_line_fix', false);\r\n\r\n        changeVideo(_video);\r\n\r\n        return false;\r\n    }\r\n\r\n    $.vbClose = function(): boolean {\r\n        stop();\r\n        $([wrap, bottomContainer, overlay]).toggleClass('visible', false);\r\n        $(wrap).css({\r\n            top: 0,\r\n            left: 0\r\n        });\r\n        activeVideo = null;\r\n        return false;\r\n    };\r\n\r\n    $.fn.videobox = function(\r\n        _options: vbOptions = {},\r\n        linkMapper: ((el: HTMLElement) => vbVideo) = (el: HTMLElement): vbVideo => {\r\n            var v: vbVideo = {\r\n                url: el.getAttribute(\"href\") || \"\",\r\n                title: el.getAttribute(\"title\") || \"\",\r\n                options: JSON.parse(el.getAttribute(\"data-videobox\")) || {},\r\n                origin: { target: el }\r\n            };\r\n            return v;\r\n        }\r\n    ): boolean {\r\n\r\n        var links: JQuery = <JQuery>this;\r\n\r\n        links.unbind(\"click\").click(function(evt: JQueryEventObject): boolean {\r\n\r\n            var _video = linkMapper(this);\r\n\r\n            _video.options = $.extend(true, {}, _options, _video.options);\r\n\r\n            return $.videobox(_video);\r\n        });\r\n        return false;\r\n    };\r\n\r\n    function setup(newVideo: vbVideo): void {\r\n        $(closeText).html(newVideo.options.closeText);\r\n        $(newVideo.options.root).append([overlay, wrap]);\r\n        setPlayerPosition();\r\n    }\r\n\r\n    function changeVideo(newVideo: vbVideo): boolean {\r\n\r\n        activeVideo = newVideo;\r\n\r\n        $(caption).html(activeVideo.title);\r\n\r\n        var targetRatio = setPlayerSizePosition();\r\n\r\n        open = true;\r\n\r\n        var centerOrigin = {\r\n            top: (activeVideo.origin ? -($(wrap).innerHeight() / 2 - activeVideo.origin.y) : 0) + 'px',\r\n            left: (activeVideo.origin ? -($(wrap).innerWidth() / 2 - activeVideo.origin.x) : 0) + 'px',\r\n            'maxWidth': activeVideo.origin ? activeVideo.origin.width + 'px' : activeVideo.options.initialWidth\r\n        };\r\n\r\n        var centerTarget = {\r\n            top: '0px',\r\n            left: '0px',\r\n            'maxWidth': activeVideo.options.width + 'px'\r\n        };\r\n\r\n        $(center).css(centerOrigin);\r\n        $([wrap, overlay]).toggleClass('visible', true);\r\n        $(wrap).toggleClass('animating', true);\r\n\r\n        if (activeVideo.origin) {\r\n            var originRatio = ((activeVideo.origin.height * 100) / activeVideo.origin.width) || targetRatio;\r\n            if (originRatio != targetRatio) {\r\n                animations.push(responsive.animate([\r\n                    { 'paddingBottom': originRatio + '%' },\r\n                    { 'paddingBottom': targetRatio + '%' }\r\n                ], activeVideo.options.animation));\r\n            }\r\n        }\r\n\r\n        var centerAnimation = center.animate([\r\n            centerOrigin,\r\n            centerTarget\r\n        ], activeVideo.options.animation);\r\n        centerAnimation.addEventListener('finish', function() {\r\n            $(center).css(centerTarget);\r\n            var bottomAnimation = bottomContainer.animate([\r\n                { 'maxHeight': '0px' },\r\n                { 'maxHeight': '200px' }\r\n            ], activeVideo.options.animation);\r\n            bottomAnimation.addEventListener('finish', function() {\r\n                $(bottomContainer).toggleClass('visible', true);\r\n                showVideo();\r\n            });\r\n            animations.push(bottomAnimation);\r\n        });\r\n        animations.push(centerAnimation);\r\n        return false;\r\n    }\r\n\r\n    function setPlayerSizePosition(): number {\r\n        if (!activeVideo) return;\r\n\r\n        setPlayerPosition();\r\n\r\n        var width: number = activeVideo.options.width;\r\n        var height: number = activeVideo.options.height;\r\n\r\n        if (width + 2 * activeVideo.options.padding > $(wrap).innerWidth()) {\r\n            var nw = $(wrap).innerWidth() - 2 * activeVideo.options.padding;\r\n            height = (height * nw) / width;\r\n            width = nw;\r\n        }\r\n        if (height + 2 * activeVideo.options.padding > $(wrap).innerHeight()) height = $(wrap).innerHeight() - 2 * activeVideo.options.padding;\r\n\r\n        var ratio = (height * 100) / width;\r\n        $(responsive).css('paddingBottom', ratio + '%');\r\n        return ratio;\r\n    }\r\n\r\n    function setPlayerPosition(): void {\r\n        var pos = $(wrap).position();\r\n        var rect = wrap.getBoundingClientRect();\r\n        $(wrap).css({\r\n            top: pos.top - rect.top,\r\n            left: pos.left - rect.left\r\n        });\r\n    }\r\n\r\n    function showVideo(): void {\r\n        if (!open || $(video).attr('src') != '') return;\r\n        $(video).show();\r\n        video.src = activeVideo.url;\r\n        $(wrap).toggleClass('animating', false);\r\n    }\r\n\r\n    function stop(): void {\r\n        for (var i = 0; i < animations.length; i++) animations[i].cancel();\r\n        animations = [];\r\n        open = false;\r\n        video.src = \"\";\r\n        $(video).hide();\r\n        $(wrap).toggleClass('animating', false);\r\n    }\r\n\r\n    $(window).on('load', function() {\r\n        $(defaults.root).append(\r\n            $([\r\n                overlay = <HTMLDivElement>$('<div id=\"vbOverlay\" />').click($.vbClose)[0],\r\n                wrap = <HTMLDivElement>$('<div id=\"vbWrap\" />')[0]\r\n            ])\r\n        );\r\n        center = <HTMLDivElement>$('<div id=\"vbCenter\" />').appendTo(wrap).append([\r\n            responsive = <HTMLDivElement>$('<div id=\"vbResponsive\" />')[0],\r\n            bottomContainer = <HTMLDivElement>$('<div id=\"vbBottomContainer\" />')[0],\r\n        ])[0];\r\n        video = <HTMLIFrameElement>$('<iframe id=\"vbVideo\" frameborder=\"0\" allowfullscreen=\"true\" oallowfullscreen msallowfullscreen webkitallowfullscreen mozallowfullscreen />').css('display', 'none').appendTo(responsive)[0];\r\n        bottom = <HTMLDivElement>$('<div id=\"vbBottom\" />').appendTo(bottomContainer).append([\r\n            button = <HTMLLinkElement>$('<a id=\"vbCloseLink\" href=\"#\" ><span id=\"vbCloseText\">' + defaults.closeText + '</span><i class=\"vb-icon-close\"></i></a>').click($.vbClose)[0],\r\n            caption = $('<strong id=\"vbCaption\" />')[0]\r\n        ])[0];\r\n        closeText = $(bottom).find('#vbCloseText')[0];\r\n\r\n        win.on(\"resize\", function() {\r\n            if (!open || !activeVideo) return;\r\n            setPlayerSizePosition();\r\n        });\r\n    });\r\n\r\n})(jQuery);","/// <reference path=\"helpers.d.ts\" />\r\n/// <reference path=\"interfaces.d.ts\" />\r\n/// <reference path=\"videobox.ts\" />\r\n\r\ninterface JQueryStatic {\r\n\r\n    /**\r\n     * Open an inline player\r\n     * \r\n     * @param _video video to show\r\n     */\r\n    vbinline: (_video: vbVideo) => boolean,\r\n\r\n    /**\r\n     * Close the open inline player\r\n     * \r\n     * @param callback function to run when close animation is over\r\n     */\r\n    vbiClose: (callback?: () => void) => boolean\r\n}\r\n\r\ninterface JQuery {\r\n\r\n    /**\r\n     * Map inline player to elements matched by the query \r\n     * \r\n     * @param _options player configuration\r\n     * @param linkMapper function to get a Videobox video object from the clicked element\r\n     */\r\n    vbinline: (_options?: vbOptions, linkMapper?: (el: HTMLElement) => vbVideo) => boolean\r\n}\r\n\r\n(function($: JQueryStatic) {\r\n\r\n    var\r\n        wrap: HTMLDivElement,\r\n        responsive: HTMLDivElement,\r\n        caption: HTMLElement,\r\n        button: HTMLDivElement,\r\n        video: HTMLIFrameElement,\r\n        win = $(window),\r\n\r\n        activeVideo: vbVideo,\r\n        open: boolean = false,\r\n        hidding: boolean = false,\r\n        animations: Array<webAnimation> = [],\r\n        hidden: Array<HTMLElement> = [],\r\n\r\n        defaults: vbOptions = {\r\n            width: 720,\r\n            height: 405,\r\n            closeText: 'Close',\r\n            padding: 30,\r\n            animation: {\r\n                duration: 500,\r\n                iterations: 1,\r\n                delay: 0,\r\n                easing: 'ease-in-out'\r\n            }\r\n        };\r\n\r\n    $.vbinline = function(_video: vbVideo): boolean {\r\n        $.vbClose();\r\n\r\n        _video.options = $.extend(true, {}, defaults, _video.options);\r\n\r\n        var link = _video.origin.target;\r\n        var target = $($(link).find($(link).attr(\"data-target\"))[0] || link);\r\n\r\n        target.toggleClass('vb_line_fix', true);\r\n        _video.origin = $.extend(true, {}, {\r\n            width: target.innerWidth(),\r\n            height: target.innerHeight()\r\n        }, _video.origin);\r\n        target.toggleClass('vb_line_fix', false);\r\n\r\n        $.vbiClose(function() {\r\n            changeVideo(_video);\r\n        });\r\n        return false;\r\n    };\r\n\r\n    $.vbiClose = function(callback: (() => void)): boolean {\r\n        stop();\r\n\r\n        if (!hidding) {\r\n            if ($(wrap).parent().length > 0 && activeVideo) {\r\n                hidding = true;\r\n                var v1 = wrap.animate([\r\n                    {\r\n                        'maxWidth': (activeVideo.options.width + 2 * activeVideo.options.padding) + 'px'\r\n                    }, {\r\n                        'maxWidth': (activeVideo.origin ? activeVideo.origin.width : activeVideo.options.initialWidth) + 'px'\r\n                    }\r\n                ], activeVideo.options.animation);\r\n                v1.addEventListener('finish', function() {\r\n                    $(wrap).detach();\r\n                    for (var i = 0; i < hidden.length; i++) $(hidden[i]).show();\r\n                    hidden = [];\r\n                    hidding = false;\r\n                    activeVideo = null;\r\n                    if (typeof callback == \"function\") callback();\r\n                });\r\n\r\n                if (activeVideo.origin) {\r\n                    var v2 = responsive.animate([\r\n                        {\r\n                            'paddingBottom': ((activeVideo.options.height * 100) / activeVideo.options.width) + '%'\r\n                        }, {\r\n                            'paddingBottom': ((activeVideo.origin.height * 100) / activeVideo.origin.width) + '%'\r\n                        }\r\n                    ], activeVideo.options.animation);\r\n                }\r\n            } else {\r\n                if ($(wrap).parent().length > 0) {\r\n                    $(wrap).detach();\r\n                    for (var i = 0; i < hidden.length; i++) $(hidden[i]).show();\r\n                    hidden = [];\r\n                }\r\n                activeVideo = null;\r\n                if (typeof callback == \"function\") callback();\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    $.fn.vbinline = function(\r\n        _options: vbOptions = {},\r\n        linkMapper: ((el: HTMLElement) => vbVideo) = (el: HTMLElement): vbVideo => {\r\n            var v: vbVideo = {\r\n                url: el.getAttribute(\"href\") || \"\",\r\n                title: el.getAttribute(\"title\") || \"\",\r\n                options: JSON.parse(el.getAttribute(\"data-videobox\")) || {},\r\n                origin: { target: el }\r\n            };\r\n            return v;\r\n        }\r\n    ): boolean {\r\n\r\n        var links: JQuery = <JQuery>this;\r\n\r\n        links.unbind(\"click\").click(function(evt: JQueryEventObject): boolean {\r\n\r\n            var _video = linkMapper(this);\r\n\r\n            _video.options = $.extend(true, {}, _options, _video.options);\r\n\r\n            return $.vbinline(_video);\r\n\r\n        });\r\n        return false;\r\n    };\r\n\r\n    function changeVideo(newVideo: vbVideo): void {\r\n\r\n        activeVideo = newVideo;\r\n\r\n        setup();\r\n\r\n        $(wrap).attr('style', activeVideo.options.style);\r\n        $(wrap).attr('class', activeVideo.options.class);\r\n        $(caption).html(activeVideo.title);\r\n        open = true;\r\n\r\n        var wrapOrigin = {\r\n            'maxWidth': (activeVideo.origin ? activeVideo.origin.width : activeVideo.options.initialWidth) + 'px'\r\n        };\r\n        var wrapDest = {\r\n            'maxWidth': (activeVideo.options.width + 2 * activeVideo.options.padding) + 'px'\r\n        };\r\n        var animation = wrap.animate([wrapOrigin, wrapDest], activeVideo.options.animation);\r\n        animation.addEventListener('finish', function() {\r\n            $(wrap).css(wrapDest);\r\n            showVideo();\r\n        });\r\n        animations.push(animation);\r\n\r\n        var responsiveDest = {\r\n            'paddingBottom': ((activeVideo.options.height * 100) / activeVideo.options.width) + '%'\r\n        };\r\n        if (activeVideo.origin) {\r\n            var responsiveOrigin = {\r\n                'paddingBottom': ((activeVideo.origin.height * 100) / activeVideo.origin.width) + '%'\r\n            };\r\n            var animation = responsive.animate([responsiveOrigin, responsiveDest], activeVideo.options.animation);\r\n            animation.addEventListener('finish', function() {\r\n                $(responsive).css(responsiveDest);\r\n            });\r\n            animations.push(animation);\r\n        } else {\r\n            $(responsive).css(responsiveDest);\r\n        }\r\n    }\r\n\r\n    function setup(): void {\r\n        $(activeVideo.origin.target).after(wrap);\r\n        $(activeVideo.origin.target).hide();\r\n        hidden.push(activeVideo.origin.target);\r\n    }\r\n\r\n    function showVideo() {\r\n        if (!open) return;\r\n        $(video).show();\r\n        video.src = activeVideo.url;\r\n    }\r\n\r\n    function stop() {\r\n        for (var i = 0; i < animations.length; i++) animations[i].cancel();\r\n        animations = [];\r\n        open = false;\r\n        video.src = \"\";\r\n        $(video).hide();\r\n    }\r\n\r\n    $(window).on('load', function() {\r\n        wrap = <HTMLDivElement>$('<div id=\"vbiWrap\" />').append([\r\n            responsive = <HTMLDivElement>$('<div id=\"vbiResponsive\" />')[0],\r\n            caption = $('<span class=\"vb_video_title\"></span>')[0],\r\n            button = <HTMLDivElement>$('<div id=\"vbiClose\"><i class=\"vb-icon-circle-close-invert\"></i></div>').click($.vbiClose)[0],\r\n        ])[0];\r\n        video = <HTMLIFrameElement>$('<iframe id=\"vbiVideo\" frameborder=\"0\" allowfullscreen=\"true\" oallowfullscreen msallowfullscreen webkitallowfullscreen mozallowfullscreen />').css('display', 'none').appendTo(responsive)[0];\r\n    })\r\n\r\n})(jQuery);","/// <reference path=\"helpers.d.ts\" />\r\n/// <reference path=\"vbinline.ts\" />\r\n\r\ninterface JQueryStatic {\r\n\r\n    /**\r\n     * Create a new Videobox slider, or find an existing slider and update it's configuration\r\n     * \r\n     * @param target an element containing the slider items\r\n     * @param _options slider configuration\r\n     * @returns slider containing the target element\r\n     */\r\n    vbSlider: (target: HTMLElement, _options?: vbSliderOptions) => vbSlider\r\n}\r\n\r\ninterface JQuery {\r\n\r\n    /**\r\n     * Map Videobox slider to elements matched by the query\r\n     * \r\n     * @param _options slider configuration\r\n     * @returns sliders matching the corresponding query elements\r\n     */\r\n    vbSlider: (_options?: vbSliderOptions) => Array<vbSlider>\r\n}\r\n\r\n/**\r\n * Interface for Videobox slider\r\n */\r\ninterface vbSlider {\r\n\r\n    /**\r\n     * slider configuration\r\n     */\r\n    options: vbSliderOptions,\r\n\r\n    /**\r\n     * scrolls slider to the left\r\n     */\r\n    showPrev(): void,\r\n\r\n    /**\r\n     * scrolls slider to the right \r\n     */\r\n    showNext(): void,\r\n\r\n    /**\r\n     * recalcuate slider metrics \r\n     */\r\n    setCount(): void,\r\n\r\n    /**\r\n     * returns true if slider is currently scrolling\r\n     */\r\n    isMoving(): boolean,\r\n\r\n    /**\r\n     * get the slider's target element\r\n     */\r\n    getTarget(): HTMLElement,\r\n\r\n    /**\r\n     * set element base width\r\n     * \r\n     * @param basis new base width\r\n     */\r\n    setBasis(basis: number): void\r\n\r\n}\r\n\r\n/**\r\n * Interface for Videobox slider configuration\r\n */\r\ninterface vbSliderOptions {\r\n\r\n    /**\r\n     * if true, slider will scroll all visible elements\r\n     */\r\n    moveAll?: boolean,\r\n\r\n    /**\r\n     * target selector\r\n     */\r\n    target?: string,\r\n\r\n    /**\r\n     * transition duration for one element\r\n     */\r\n    singleDuration?: number,\r\n\r\n    /**\r\n     * clicks within the timeout are processed together\r\n     */\r\n    doubleClickTimeout?: number,\r\n\r\n    /**\r\n     * animation properties (see <a href=\"https://w3c.github.io/web-animations/\">web animations specifications</a>)\r\n     */\r\n    animation?: {\r\n        duration?: number,\r\n        iterations?: number,\r\n        delay?: number,\r\n        easing?: string\r\n    }\r\n}\r\n\r\n(function($: JQueryStatic) {\r\n\r\n    class _vbSlider implements vbSlider {\r\n\r\n        private target: HTMLElement;\r\n        private outer: HTMLDivElement = <HTMLDivElement>$('<div class=\"vb_slider_outer\"></div>')[0];\r\n        private wrap: HTMLDivElement = <HTMLDivElement>$('<div class=\"vb_slider_wrap\"></div>').appendTo(this.outer)[0];\r\n        private content: HTMLDivElement = <HTMLDivElement>$('<div class=\"vb_slider_cont\"></div>').appendTo(this.wrap)[0];\r\n        private prev: HTMLDivElement = <HTMLDivElement>$('<div class=\"vb_slider_prev\"><i class=\"vb-icon-prev\"></i></div>').prependTo(this.outer)[0];\r\n        private next: HTMLDivElement = <HTMLDivElement>$('<div class=\"vb_slider_next\"><i class=\"vb-icon-next\"></i></div>').appendTo(this.outer)[0];\r\n        private buttons: JQuery = $(this.outer).find('i');\r\n\r\n        private basis: number;\r\n        private queue: Array<string> = [];\r\n        private timeout: number = -1;\r\n        private moving: boolean = false;\r\n        private visible: number = -1;\r\n        private detachedElements: Array<HTMLElement> = [];\r\n\r\n        options: vbSliderOptions = {\r\n            moveAll: false,\r\n            target: '',\r\n            singleDuration: 500,\r\n            doubleClickTimeout: 200,\r\n            animation: {\r\n                duration: 500,\r\n                iterations: 1,\r\n                delay: 0,\r\n                easing: 'ease-in-out'\r\n            },\r\n        };\r\n\r\n        constructor(target: HTMLElement, _options: vbSliderOptions) {\r\n            this.target = target;\r\n            var elements: JQuery = $(target).children();\r\n\r\n            $(this.outer).insertAfter(target);\r\n            $(this.content).append(target);\r\n\r\n            this.basis = parseInt($(target).attr('data-width')) || elements.innerWidth();\r\n\r\n            $.extend(this.options, _options);\r\n\r\n            $(this.content).toggleClass('vb-slider__move-all', this.options.moveAll);\r\n\r\n            var slider: _vbSlider = this;\r\n            $(this.prev).click(function() {\r\n                slider.showPrev();\r\n            });\r\n            $(this.next).click(function() {\r\n                slider.showNext();\r\n            });\r\n\r\n            this.setCount();\r\n        }\r\n\r\n        showPrev(): void {\r\n            this.queueMove('r');\r\n        }\r\n\r\n        showNext(): void {\r\n            this.queueMove('l');\r\n        }\r\n\r\n        setBasis(_basis: number): void {\r\n            if (_basis != this.basis) {\r\n                this.basis = _basis;\r\n                this.setCount();\r\n            }\r\n        }\r\n\r\n        isMoving(): boolean {\r\n            return this.moving;\r\n        }\r\n\r\n        getTarget(): HTMLElement {\r\n            return this.target;\r\n        }\r\n\r\n        private queueMove(dir: string): void {\r\n            if (this.queue.length > 0 && this.queue[this.queue.length - 1] != dir) {\r\n                this.queue.pop();\r\n            } else {\r\n                this.queue.push(dir);\r\n            }\r\n            if (this.timeout >= 0) clearTimeout(this.timeout);\r\n            var slider: _vbSlider = this;\r\n            this.timeout = setTimeout(function() {\r\n                slider.timeout = -1;\r\n                if (!slider.moving && slider.queue.length > 0) slider.move();\r\n            }, this.options.doubleClickTimeout);\r\n        }\r\n\r\n        private move(): void {\r\n            this.moving = true;\r\n            var dir = this.queue.pop();\r\n\r\n            var num: number = 1;\r\n            while (this.queue.length > 0) num += this.queue.pop() == dir ? 1 : -1;\r\n            if (num == 0) {\r\n                this.moving = false;\r\n                return;\r\n            }\r\n            if (num < 0) {\r\n                dir = dir == 'l' ? 'r' : 'l';\r\n                num = 0 - num;\r\n            }\r\n\r\n            var count: number = (this.options.moveAll ? this.visible : 1) * num;\r\n            count = count % (this.visible + this.detachedElements.length);\r\n            for (var i = 0; i < count && this.detachedElements.length > 0; i++) {\r\n                dir == 'l' ? $(this.target).append(this.detachedElements.shift()) : $(this.target).prepend(this.detachedElements.pop());\r\n            }\r\n\r\n            var attached: JQuery = $(this.target).children();\r\n            var oldElements = dir == 'l' ? attached.slice(0, attached.length - this.visible) : attached.slice(this.visible);\r\n            _vbSlider.detach(oldElements);\r\n\r\n            var\r\n                height: number = $(this.target).innerHeight(),\r\n                width: number = 100 * count / this.visible;\r\n\r\n            dir == 'l' ? $(this.target).prepend(oldElements) : $(this.target).append(oldElements);\r\n\r\n            var animationProperties = this.options.singleDuration ? $.extend({}, this.options.animation, { duration: this.options.singleDuration * count }) : this.options.animation;\r\n            var slider: _vbSlider = this;\r\n\r\n            var positionOrigin = {\r\n                'marginLeft': (dir == 'l' ? 0 : -width) + '%',\r\n                'marginRight': (dir == 'l' ? -width : 0) + '%',\r\n            };\r\n            var positionDest = {\r\n                'marginLeft': (dir == 'l' ? -width : 0) + '%',\r\n                'marginRight': (dir == 'l' ? 0 : -width) + '%',\r\n            };\r\n\r\n            var anim = this.content.animate([positionOrigin, positionDest], animationProperties);\r\n            anim.addEventListener('finish', function() {\r\n                slider.skip(dir);\r\n            });\r\n\r\n            var anim = this.content.animate([{\r\n                height: $(this.content).css('height')\r\n            }, {\r\n                    height: height + 'px'\r\n                }], animationProperties);\r\n            anim.addEventListener('finish', function() {\r\n                $(slider.content).css('height', height);\r\n            });\r\n            this.buttons.css('top', this.options.target ? ($(this.target).find(this.options.target).outerHeight(true) / 2) : '');\r\n        }\r\n\r\n        private static detach(el: JQuery): void {\r\n            if (el.find('#vbiWrap').length > 0) $.vbiClose();\r\n            el.detach();\r\n        }\r\n\r\n        private skip(dir: string): void {\r\n            var attached: JQuery = $(this.target).children();\r\n            if (dir == 'l') {\r\n                var el: JQuery = attached.slice(0, attached.length - this.visible);\r\n                _vbSlider.detach(el);\r\n                for (var i = 0; i < el.length; i++) this.detachedElements.push(el[i]);\r\n            } else if (dir == 'r') {\r\n                var el = attached.slice(this.visible);\r\n                _vbSlider.detach(el);\r\n                for (var i = 0; i < el.length; i++) this.detachedElements.unshift(el[i]);\r\n            }\r\n\r\n            if (this.queue.length > 0 && this.timeout < 0) {\r\n                this.move();\r\n            } else {\r\n                this.moving = false;\r\n            }\r\n        }\r\n\r\n        setCount(): void {\r\n            var current = this.visible;\r\n            var width = $(this.target).innerWidth();\r\n            var base = this.basis + $(this.target).children().outerWidth(true) - $(this.target).children().innerWidth();\t// base width including any offset\r\n\r\n            // calculate number of displayed items\r\n            var visible = Math.floor(width / this.basis);\r\n            if (visible < 1) {\r\n                visible = 1;\r\n            } else {\r\n                var w1 = 2 - base / (width / visible);\r\n                var w2 = base / (width / (visible + 1));\r\n                if (w2 < w1) visible++;\r\n            }\r\n\r\n            // add or remove visible items if needed\r\n            if (visible != current) {\r\n                this.visible = visible;\r\n                this.setAttached();\r\n            }\r\n\r\n            // set new size\r\n            $(this.content).css('height', $(this.target).innerHeight());\r\n            this.buttons.css('top', this.options.target ? ($(this.target).find(this.options.target).outerHeight(true) / 2) : '');\r\n        }\r\n\r\n        private setAttached(): void {\r\n            var attached = $(this.target).children();\r\n            if (attached.length < this.visible) {\r\n                for (var i = attached.length; i < this.visible && this.detachedElements.length > 0; i++) {\r\n                    $(this.target).append(this.detachedElements.shift());\r\n                }\r\n            } else if (attached.length > this.visible) {\r\n                for (var i = attached.length - 1; i >= this.visible; i--) {\r\n                    this.detachedElements.unshift(attached[i]);\r\n                    _vbSlider.detach($(attached[i]));\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    var sliders: Array<vbSlider> = [];\r\n\r\n    $.vbSlider = function(target: HTMLElement, _options: vbSliderOptions = {}): vbSlider {\r\n\r\n        // update and return an existing slider\r\n        for (var i = 0; i < sliders.length; i++) if (sliders[i].getTarget() == target) {\r\n            $.extend(sliders[i].options, _options);\r\n            return sliders[i];\r\n        }\r\n\r\n        return new _vbSlider(target, _options);\r\n    }\r\n\r\n    $.fn.vbSlider = function(_options: vbSliderOptions = {}): Array<vbSlider> {\r\n        var sliders = [];\r\n        for (var i = 0; i < this.length; i++) {\r\n            var target: HTMLElement = this[i], _op: vbSliderOptions = {}, tr: string = $(target).attr(\"data-target\"), mo: string = $(target).attr(\"data-move\");\r\n\r\n            if (tr) _op.target = tr;\r\n            if (mo && mo.trim()) _op.moveAll = mo.trim() == 'all';\r\n\r\n            sliders.push($.vbSlider(target, $.extend({}, _options, _op)));\r\n        }\r\n        return sliders;\r\n    }\r\n\r\n    $(window).on(\"resize\", function() {\r\n        for (var i = 0; i < sliders.length; i++) sliders[i].setCount();\r\n    });\r\n\r\n})(jQuery);\r\n","/// <reference path=\"videobox.ts\" />\r\n/// <reference path=\"vbinline.ts\" />\r\n/// <reference path=\"vbslider.ts\" />\r\n\r\n(function($: JQueryStatic) {\r\n\r\n    $(window).on('load', function() {\r\n        var r = $(\".mdl-layout.mdl-js-layout\")[0];\r\n        if (!r) r = $(\"body\")[0];\r\n\r\n        $(\"a[rel^='videobox']\").videobox({\r\n            root: r\r\n        });\r\n\r\n        $(\"a[rel^='vbinline']\").vbinline({ /* Put custom options here */ });\r\n\r\n        $(\".vb_slider\").vbSlider({ /* Put custom options here */ });\r\n    });\r\n\r\n})(jQuery);"],"sourceRoot":"/source/"}